{% extends "base.html" %}
{% load dict_extras %}
{% block title %}Detail tabulky{% endblock %}

{% block content %}
<h2>📊 Tabulka z dokumentu</h2>

<p>
  <strong>Strana:</strong> {{ table.page_number }}<br>
  <strong>Metoda:</strong> {{ table.method }}<br>
  <strong>Řádků:</strong> {{ table.meta.rows }}
</p>

<!-- Tlačítko pro smazání tabulky -->
<a href="{% url 'ingestion:delete_table' table.id %}" class="btn btn-danger mb-3">Smazat tabulku</a>

<table class="table table-bordered table-sm">
  <thead>
    <tr>
      {% for col in table.columns %}
        <th>{{ col }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for row in table.rows.all %}
    <tr>
      {% for col in table.columns %}
        <td>{{ row.data|get_item:col }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
